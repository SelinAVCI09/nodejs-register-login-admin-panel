{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet Page1Component = class Page1Component {\n  constructor(router, navigationService, authService // AuthService'i inject et\n  ) {\n    this.router = router;\n    this.navigationService = navigationService;\n    this.authService = authService;\n    this.checkToken(); // Sayfa yüklendiğinde token'ı kontrol et\n  }\n\n  checkToken() {\n    if (!this.authService.isTokenValid()) {\n      this.router.navigate(['/login']); // Token geçersizse login sayfasına yönlendir\n    }\n  }\n\n  navigateToPage(page, buttonName) {\n    this.navigationService.recordButtonClick(buttonName);\n    this.router.navigate([`/${page}`]);\n  }\n  logout() {\n    this.authService.logout().subscribe({\n      next: () => {\n        sessionStorage.removeItem('userId');\n        localStorage.removeItem('auth-token'); // Token'ı temizle\n        this.router.navigate(['/login']); // Login sayfasına yönlendir\n      },\n\n      error: error => {\n        console.error('Logout error:', error);\n      }\n    });\n  }\n  goToUpdates() {\n    this.router.navigate(['/navigation']);\n  }\n};\nPage1Component = __decorate([Component({\n  selector: 'app-page1',\n  templateUrl: './page1.component.html',\n  styleUrls: ['./page1.component.css']\n})], Page1Component);\nexport { Page1Component };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAEzBC,YACUC,MAAc,EACdC,iBAAoC,EACpCC,WAAwB,CAAC;EAAA;IAFzB,WAAM,GAANF,MAAM;IACN,sBAAiB,GAAjBC,iBAAiB;IACjB,gBAAW,GAAXC,WAAW;IAEnB,IAAI,CAACC,UAAU,EAAE,CAAC,CAAC;EACrB;;EAEAA,UAAU;IACR,IAAI,CAAC,IAAI,CAACD,WAAW,CAACE,YAAY,EAAE,EAAE;MACpC,IAAI,CAACJ,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEtC;;EAEAC,cAAc,CAACC,IAAY,EAAEC,UAAkB;IAC7C,IAAI,CAACP,iBAAiB,CAACQ,iBAAiB,CAACD,UAAU,CAAC;IACpD,IAAI,CAACR,MAAM,CAACK,QAAQ,CAAC,CAAC,IAAIE,IAAI,EAAE,CAAC,CAAC;EACpC;EAEAG,MAAM;IACJ,IAAI,CAACR,WAAW,CAACQ,MAAM,EAAE,CAACC,SAAS,CAAC;MAClCC,IAAI,EAAE,MAAK;QACTC,cAAc,CAACC,UAAU,CAAC,QAAQ,CAAC;QACnCC,YAAY,CAACD,UAAU,CAAC,YAAY,CAAC,CAAC,CAAC;QACvC,IAAI,CAACd,MAAM,CAACK,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;MACpC,CAAC;;MACDW,KAAK,EAAGA,KAAU,IAAI;QACpBC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC;KACD,CAAC;EACJ;EAEAE,WAAW;IACT,IAAI,CAAClB,MAAM,CAACK,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;EACvC;CACD;AArCYP,cAAc,eAL1BD,SAAS,CAAC;EACTsB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWvB,cAAc,CAqC1B;SArCYA,cAAc","names":["Component","Page1Component","constructor","router","navigationService","authService","checkToken","isTokenValid","navigate","navigateToPage","page","buttonName","recordButtonClick","logout","subscribe","next","sessionStorage","removeItem","localStorage","error","console","goToUpdates","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/selinavci/Desktop/Kentkart/nodejs-register-login-admin-panel-main-2/frontend/src/app/components/page1/page1.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavigationService } from '../../services/navigation.service';\n\n@Component({\n  selector: 'app-page1',\n  templateUrl: './page1.component.html',\n  styleUrls: ['./page1.component.css']\n})\nexport class Page1Component {\n\n  constructor(\n    private router: Router,\n    private navigationService: NavigationService,\n    private authService: AuthService // AuthService'i inject et\n  ) {\n    this.checkToken(); // Sayfa yüklendiğinde token'ı kontrol et\n  }\n\n  checkToken(): void {\n    if (!this.authService.isTokenValid()) {\n      this.router.navigate(['/login']); // Token geçersizse login sayfasına yönlendir\n    }\n  }\n\n  navigateToPage(page: string, buttonName: string): void {\n    this.navigationService.recordButtonClick(buttonName);\n    this.router.navigate([`/${page}`]);\n  }\n\n  logout(): void {\n    this.authService.logout().subscribe({\n      next: () => {\n        sessionStorage.removeItem('userId');\n        localStorage.removeItem('auth-token'); // Token'ı temizle\n        this.router.navigate(['/login']); // Login sayfasına yönlendir\n      },\n      error: (error: any) => {\n        console.error('Logout error:', error);\n      }\n    });\n  }\n\n  goToUpdates(): void {\n    this.router.navigate(['/navigation']);\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}